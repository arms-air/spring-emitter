<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <title>micropost_form</title>
</head>
<body>
	<div th:fragment="micropost_form" th:remove="tag">
		<!-- shared _micropost_form.html included into home.html -->
		#{if flash.success}
		<div class="alert alert-success alert-dismissible" role="alert">
    	<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    	${flash.success}
		</div>
		#{/if}
		#{ifErrors}
		<div id="error_explanation">
    		<div class="alert alert-danger alert-dismissible" role="alert">

        	<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        	contains ${errors.size() - 1} errors.
    		</div>
    		<ul>
	        #{errors}
	            #{if error.key != 'micropost'}
	                <li>${error}</li>
	            #{/if}
	        #{/errors}
   			</ul>
		</div>
		#{/ifErrors}
		#{form @Microposts.create() }
    	<div class="field">
        	<textarea class="form-control" id="content" name="micropost.content" placeholder="Compose new micropost..."></textarea>
    	</div>

    	<input type="hidden" id="user_id" name="micropost.user_id" value="${current_user.id}" />
    	<input class="btn btn-primary btn-large" type="submit" name="submit" value="Post" />
    	<br/><br/>
		#{/form}
		<!-- shared _micropost_form.html included into home.html End -->
    </div>
</body>
</html>